
Running 1 test using 1 worker


[0] 設定 Mock User 資訊...

📌 測試：Classroom 白板同步（帶延遲）
👨‍🏫 Teacher Wait URL: https://www.jvtutorcorner.com/classroom/wait?courseId=c1&role=teacher&session=classroom_session_ready_c1&forceJoin=true
👩‍🎓 Student Wait URL: https://www.jvtutorcorner.com/classroom/wait?courseId=c1&role=student&session=classroom_session_ready_c1&forceJoin=true

[1] 設定網路延遲 (100-500ms 隨機)...

[2] 兩個客戶端進行完整的準備流程...

[準備流程] 👨‍🏫 TEACHER 開始準備流程
  [1/7] 訪問 https://www.jvtutorcorner.com/classroom/wait?courseId=c1&role=teacher&session=classroom_session_ready_c1&forceJoin=true

[準備流程] 👩‍🎓 STUDENT 開始準備流程
  [1/7] 訪問 https://www.jvtutorcorner.com/classroom/wait?courseId=c1&role=student&session=classroom_session_ready_c1&forceJoin=true
  [DEBUG] 頁面中找到的所有按鈕：
    • 1. "" [enabled: true]
    • 2. "S" [enabled: true]
    • 3. "TW繁體中文▾" [enabled: true]
    • 4. "TW繁體中文▾" [enabled: true]
    • 5. "🎤 測試麥克風" [enabled: true]
    • 6. "🔊 🔊 測試聲音" [enabled: true]
    • 7. "📹 預覽攝影機" [enabled: true]
    • 8. "🔐 授予麥克風、聲音和攝影機權限" [enabled: true]
    • 9. "點擊表示準備好" [enabled: true]
    • 10. "等待所有人準備好..." [enabled: false]
    • 11. "📋 複製等待室連結" [enabled: true]
  [2/7] 點擊授予權限按鈕（麥克風/聲音/攝影機）...
    ℹ️  找到 1 個授予按鈕
    ✓ 點擊第 1 個授予按鈕
  [DEBUG] 頁面中找到的所有按鈕：
    • 1. "" [enabled: true]
    • 2. "T" [enabled: true]
    • 3. "TW繁體中文▾" [enabled: true]
    • 4. "TW繁體中文▾" [enabled: true]
    • 5. "🎤 測試麥克風" [enabled: true]
    • 6. "🔊 🔊 測試聲音" [enabled: true]
    • 7. "📹 預覽攝影機" [enabled: true]
    • 8. "🔐 授予麥克風、聲音和攝影機權限" [enabled: true]
    • 9. "請先完成音視頻檢測" [enabled: false]
    • 10. "等待所有人準備好..." [enabled: false]
    • 11. "📋 複製等待室連結" [enabled: true]
  [2/7] 點擊授予權限按鈕（麥克風/聲音/攝影機）...
    ℹ️  找到 1 個授予按鈕
    ✓ 點擊第 1 個授予按鈕
  [3/7] 點擊「測試麥克風」按鈕...
    ✓ 找到測試麥克風按鈕，正在點擊...
  [3/7] 點擊「測試麥克風」按鈕...
    ✓ 找到測試麥克風按鈕，正在點擊...
    ✓ 麥克風測試完成
  [4/7] 點擊「測試聲音」按鈕...
    ✓ 找到測試聲音按鈕，正在點擊...
    ✓ 麥克風測試完成
  [4/7] 點擊「測試聲音」按鈕...
    ✓ 找到測試聲音按鈕，正在點擊...
    ✓ 聲音測試完成
  [5/7] 點擊「預覽攝影機」按鈕...
    ℹ️  「預覽攝影機」按鈕未找到或不可見
  [6/7] 檢查「準備好」按鈕...
    ℹ️  找到「準備好」按鈕 [可用: true]
    ✓ 「點擊表示準備好」按鈕可點擊，正在點擊...
    ✓ 聲音測試完成
  [5/7] 點擊「預覽攝影機」按鈕...
    ℹ️  「預覽攝影機」按鈕未找到或不可見
  [6/7] 檢查「準備好」按鈕...
    ℹ️  找到「準備好」按鈕 [可用: true]
    ✓ 「點擊表示準備好」按鈕可點擊，正在點擊...
  [7/7] 等待並點擊「立即進入教室」按鈕...
    ⏳ 等待「立即進入教室」按鈕... (1/15)
  [7/7] 等待並點擊「立即進入教室」按鈕...
    ⏳ 等待「立即進入教室」按鈕... (1/15)
    ⏳ 等待「立即進入教室」按鈕... (2/15)
    ⏳ 等待「立即進入教室」按鈕... (2/15)
    ⏳ 等待「立即進入教室」按鈕... (3/15)
    ⏳ 等待「立即進入教室」按鈕... (3/15)
    ⏳ 等待「立即進入教室」按鈕... (4/15)
    ⏳ 等待「立即進入教室」按鈕... (4/15)
    ⏳ 等待「立即進入教室」按鈕... (5/15)
    ⏳ 等待「立即進入教室」按鈕... (5/15)
    ⏳ 等待「立即進入教室」按鈕... (6/15)
    ⏳ 等待「立即進入教室」按鈕... (6/15)
    ⏳ 等待「立即進入教室」按鈕... (7/15)
    ⏳ 等待「立即進入教室」按鈕... (7/15)
    ⏳ 等待「立即進入教室」按鈕... (8/15)
    ⏳ 等待「立即進入教室」按鈕... (8/15)
    ⏳ 等待「立即進入教室」按鈕... (9/15)
    ⏳ 等待「立即進入教室」按鈕... (9/15)
    ⏳ 等待「立即進入教室」按鈕... (10/15)
    ⏳ 等待「立即進入教室」按鈕... (10/15)
    ⏳ 等待「立即進入教室」按鈕... (11/15)
    ⏳ 等待「立即進入教室」按鈕... (11/15)
    ⏳ 等待「立即進入教室」按鈕... (12/15)
    ⏳ 等待「立即進入教室」按鈕... (12/15)
    ⏳ 等待「立即進入教室」按鈕... (13/15)
    ⏳ 等待「立即進入教室」按鈕... (13/15)
    ⏳ 等待「立即進入教室」按鈕... (14/15)
    ⏳ 等待「立即進入教室」按鈕... (14/15)
    ⏳ 等待「立即進入教室」按鈕... (15/15)
    ⏳ 等待「立即進入教室」按鈕... (15/15)
    ⚠️  15 秒內未找到「立即進入教室」按鈕
    ℹ️  嘗試強制手動導航 (Force Join)...
    ⚠️  15 秒內未找到「立即進入教室」按鈕
    ℹ️  嘗試強制手動導航 (Force Join)...
  ✓ STUDENT 準備流程完成

  ✓ TEACHER 準備流程完成

  ✓ Student 已進入 /classroom/test

[3] 等待雙方 Agora 連接與白板初始化 (最多等待 30 秒)...
    ⏳ 檢查 TEACHER 連接狀態...
    ⏳ 檢查 STUDENT 連接狀態...
    ✅ TEACHER 已就緒 (於 4.5 秒)
    ✅ STUDENT 已就緒 (於 4.5 秒)
  • Teacher 連接狀態: 已連接
  • Student 連接狀態: 已連接

[4] 在 Teacher 白板上繪圖...
  • 找到 2 個 Canvas 元素
  ✓ 繪圖 Canvas 已找到
  • Canvas 大小: 531x241，位置: (27, 160)
  • Teacher 狀態已確認並強制切換至畫筆工具
  • 開始繪製 60 個隨機線條進行壓力測試（正常人繪圖頻率）...
Terminate batch job (Y/N)?   ✘  1 [classroom-sync-test] › e2e\quick-sync-test.spec.ts:230:5 › Classroom Whiteboard Sync - Teacher to Student (43.7s)
  ✓ 繪製完成: 9/60 條線條成功

  1 interrupted
    [classroom-sync-test] › e2e\quick-sync-test.spec.ts:230:5 › Classroom Whiteboard Sync - Teacher to Student 

To open last HTML report run:
[36m[39m
[36m  npx playwright show-report test-results[39m
[36m[39m
